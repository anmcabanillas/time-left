<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Barra de Progreso de Vida</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    background: #fff;
    color: #111;
    margin: 2rem auto;
    max-width: 420px;
  }
  h1 {
    font-weight: 600;
    font-size: 1.5rem;
    margin-bottom: 1.2rem;
  }
  .progress-group {
    margin-bottom: 1.5rem;
  }
  .progress-label {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.3rem;
  }
  .progress-bar {
    background: #eee;
    border-radius: 9999px;
    height: 16px;
    width: 100%;
    overflow: hidden;
  }
  .progress-bar-fill {
    background: #0070f3;
    height: 100%;
    border-radius: 9999px;
    width: 0%;
    transition: width 0.4s ease;
  }
  .progress-info {
    font-size: 0.8rem;
    color: #555;
    margin-top: 0.2rem;
  }
</style>
</head>
<body>

<h1>Progreso de Vida</h1>

<div class="progress-group">
  <div class="progress-label">Años vividos</div>
  <div class="progress-bar">
    <div class="progress-bar-fill" id="yearProgress"></div>
  </div>
  <div class="progress-info" id="yearInfo"></div>
</div>

<div class="progress-group">
  <div class="progress-label">Meses vividos este año</div>
  <div class="progress-bar">
    <div class="progress-bar-fill" id="monthProgress"></div>
  </div>
  <div class="progress-info" id="monthInfo"></div>
</div>

<div class="progress-group">
  <div class="progress-label">Días vividos este mes</div>
  <div class="progress-bar">
    <div class="progress-bar-fill" id="dayProgress"></div>
  </div>
  <div class="progress-info" id="dayInfo"></div>
</div>

<script>
  // Parámetros de entrada (similares al widget original)
  const fechaNacimiento = '1990-01-01'; // Cambia a la fecha real
  const edadEsperada = 85; // Cambia según lo que desees

  function calcularProgreso() {
    const hoy = new Date();
    const nacimiento = new Date(fechaNacimiento);

    // Años vividos
    let añosVividos = hoy.getFullYear() - nacimiento.getFullYear();
    const cumpleEsteAño = new Date(hoy.getFullYear(), nacimiento.getMonth(), nacimiento.getDate());
    if (hoy < cumpleEsteAño) añosVividos--;

    // Porcentaje total vida
    let porcentajeVida = Math.min((añosVividos / edadEsperada) * 100, 100);

    // Meses vividos este año
    let mesesVividos = hoy.getMonth() + 1; // Enero = 0, sumamos 1
    let porcentajeMeses = (mesesVividos / 12) * 100;

    // Días vividos este mes
    let diasVividos = hoy.getDate();
    const diasMes = new Date(hoy.getFullYear(), hoy.getMonth() + 1, 0).getDate();
    let porcentajeDias = (diasVividos / diasMes) * 100;

    // Actualizar barras
    document.getElementById('yearProgress').style.width = porcentajeVida + '%';
    document.getElementById('yearInfo').textContent = `${añosVividos} años vividos de ${edadEsperada} (${porcentajeVida.toFixed(2)}%)`;

    document.getElementById('monthProgress').style.width = porcentajeMeses + '%';
    document.getElementById('monthInfo').textContent = `${mesesVividos} de 12 meses vividos este año`;

    document.getElementById('dayProgress').style.width = porcentajeDias + '%';
    document.getElementById('dayInfo').textContent = `${diasVividos} de ${diasMes} días vividos este mes`;
  }

  calcularProgreso();
</script>

</body>
</html>

